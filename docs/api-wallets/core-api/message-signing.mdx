---
title: "Message Signing"
description: "Sign arbitrary data and messages using Core API"
---

## Message Signing

### Sign Data

Sign arbitrary data using keccak256 hash.

```bash cURL icon="square-terminal"
curl -X POST 'https://tee.magiclabs.com/v1/api/wallet/sign_data' \
  -H 'Content-Type: application/json' \
  -H 'x-magic-secret-key: sk_live_XXXXXXXX' \
  -d '{
    "raw_data_hash": "keccak256_string_hash",
    "encryption_context": "hashed_passcode",
    "access_key": "key_shard",
    "wallet_id": "wallet_id"
  }'
```

**Response:**

```json
{
  "data": {
    "messageHash": "0xabc...",
    "signature": "0xabc...",
    "r": "",
    "s": "",
    "v": ""
  }
}
```

<ParamField body="raw_data_hash" type="string" required>
The keccak256 hash of the data to sign
</ParamField>

<ParamField body="encryption_context" type="string" required>
The encryption context used to decrypt key shards. Must match the context used during wallet creation.
</ParamField>

<ParamField body="access_key" type="string" required>
The access key returned from wallet creation. Retrieve from your database.
</ParamField>

<ParamField body="wallet_id" type="string" required>
The wallet UUID returned from wallet creation.
</ParamField>

<ResponseField name="data.messageHash" type="string">
The hash that was signed
</ResponseField>

<ResponseField name="data.signature" type="string">
The complete signature in hex format
</ResponseField>

<ResponseField name="data.r" type="string">
The r component of the ECDSA signature
</ResponseField>

<ResponseField name="data.s" type="string">
The s component of the ECDSA signature
</ResponseField>

<ResponseField name="data.v" type="string">
The recovery parameter of the ECDSA signature
</ResponseField>

### Sign Message (Solana)

Sign an arbitrary message using a Solana wallet.

```bash cURL icon="square-terminal"
curl -X POST 'https://tee.magiclabs.com/v1/api/wallet/svm/sign_message' \
  -H 'Content-Type: application/json' \
  -H 'x-magic-secret-key: sk_live_XXXXXXXX' \
  -d '{
    "message_base64": "base64_string_hash",
    "encryption_context": "hashed_passcode",
    "access_key": "key_shard",
    "wallet_id": "wallet_id"
  }'
```

**Response:**

```json
{
  "data": {
    "signature": "base64_encoded"
  }
}
```

<ParamField body="message_base64" type="string" required>
The message to be signed, encoded in base64
</ParamField>

<ParamField body="encryption_context" type="string" required>
The encryption context used to decrypt key shards. Must match the context used during wallet creation.
</ParamField>

<ParamField body="access_key" type="string" required>
The access key returned from wallet creation. Retrieve from your database.
</ParamField>

<ParamField body="wallet_id" type="string" required>
The wallet UUID returned from wallet creation.
</ParamField>

<ResponseField name="data.signature" type="string">
The signature in base64 format
</ResponseField>
