---
title: Google Social Login with Magic
sidebarTitle: Google
description: "You can allow your users to sign up & login into your web application with their Google account."
---


## Usage

<Note>
**Important**

If your users are encountering an "Access blocked: magic.link has not completed the Google verification process" error, please [read below](/docs/authentication/login/social-logins/social-providers/google#verification-process).
</Note>

<Note>
Magic SDK offers two OAuth extensions: [v1](https://www.npmjs.com/package/@magic-ext/oauth) and [v2](https://www.npmjs.com/package/@magic-ext/oauth2). For web applications, it is recommended to use v2, while v1 should be used for mobile applications.
</Note>

## Prerequisites

* You will need a [Google Developer](https://console.developers.google.com/) account
* You will need to have the [Magic SDK installed](/docs/api/overview) into your web app
* You will need to have the [Magic SDK - OAuth Extension](/docs/authentication/login/social-logins/oauth-implementation) installed into your web app

## Google Setup (v1 extension)

After installing the OAuth extension, you can now enable Google Login for your Magic app:

1.  Follow Google’s instructions to [set up an OAuth 2.0 app](https://support.google.com/cloud/answer/6158849?hl=en)
2.  Obtain the OAuth **Client ID** and **Client Secret** from your [Google Developer dashboard](https://console.developers.google.com/)
3.  Go to your [Magic Dashboard](https://dashboard.magic.link/login)
4.  Select the Magic app for which you’d like to enable Google Login, or create a new app
5.  Navigate to **Social Login** from the sidebar
6.  Click the toggle for **Google / Gmail**
7.  Input the **Client ID** and **Client Secret** for your OAuth app
8.  Copy the **Redirect URI** field from your Magic Dashboard and add it to your Google Dashboard’s OAuth app configuration: ⁠

<Frame>
  <img src="/images/redirect-uri.webp" alt=""/>
</Frame>


9.  In Magic Dashboard, click **“Save”**
10. Click "**Test Connection**" to give your new Google OAuth flow a try!

## Google Setup (v2 extension)

* Follow above steps, but disregard Magic's **Redirect URI** in step 8
* Instead, add the **Redirect URI** you are passing in as the **redirectURI** argument to the **loginWithRedirect** method


<Tabs>
<Tab title="Javascript">
```json
await magic.oauth2.loginWithRedirect({
  provider: 'google',
  redirectURI: 'https://your-app.com/your/oauth/callback', // <== whitelist this with Google
});
```
</Tab>
</Tabs>
Copy



## Verification Process

If your users are encountering an `Access blocked: magic.link has not completed the Google verification process` error, you will need to go to your Google developer dashboard and change your app's "Publishing status" from "Testing" to "In production".

<Frame>
  <img src="/images/oauth-consent-screen-v2.webp" alt="oauth-consent-screen-v2.png"/>
</Frame>


⁠To do this, please follow these steps:

1.  Go to your app within the Google developer dashboard and select "OAuth consent screen" on the nav menu.
2.  Under "Publishing status", select "publish app".
3.  Once the status is set to "In production", you should no longer be encountering the error.

**Note:** If your app meets certain criteria, you might be required to go through a verification process. In order to avoid this, **we recommend removing any icons or logos you have added in the Google developer dashboard****.**

The full list of criteria that requires verification from Google is as follows:

* You want your application to display an icon or app name
* Your app requests authorization of any sensitive or restricted scopes
* The number of authorized domains for your apps [exceeds the domain count limit](https://support.google.com/cloud/answer/7650096) for a project
* There are changes to the OAuth consent screen after your app has been approved

<Frame>
  <img src="/images/oauth-consent-screen-published.webp" alt="oauth-consent-screen-published.png"/>
</Frame>


## Gmail Linking]

A user's email login and Google social login can automatically be linked so that logging in with either auth factor will resolve to a single wallet.

<Info>
**Important**

Each login counts towards a unique monthly active wallet for billing purposes.
</Info>

This is most useful when end users forget whether they signed up to your app using Google login or via email login. This prevents the user seeing 2 unique wallet addresses and the confusion of around which wallet holds their assets.

By default, this account linking is enabled in the dashboard when you enable Google Sign-In. This will ensure that users who log in with an email and Google social login using the same email address will resolve to the same wallet. Turning this feature off will prevent automatic linking for new users. It **will not unlink **existing users' social and email logins.

## Resources

* [Google Social Login Demo](https://magic-oauth-v2-dun.vercel.app/)

