---
title: How to Integrate with the Ethereum Blockchain using Unity
sidebarTitle: Unity
---

### Installation

To interact with the Ethereum blockchain, Magic Unity SDK integrates Nethereum as sub dependency.

### Initialization

The Magic class is the entry-point to the Magic SDK. It must be instantiated with a Magic **publishable** key.

<Tabs>
<Tab title="C#">
```json

using link.magic.unity.sdk;
using UnityEngine;

public class MagicUnity : MonoBehaviour
{
// Start is called before the first frame update
void Start()
{
Magic magic = new Magic("YOUR_PUBLISHABLE_KEY");
Magic.Instance = magic;
}
}

````
</Tab>
</Tabs>

### Use Different Networks

### Testnet

Goerli Block Explorer: [https://goerli.etherscan.io](https://etherscan.io/)

⁠Goerli Testnet Faucet: [https://goerlifaucet.com](https://goerlifaucet.com/)

<Tabs>
<Tab title="C#">
```json

Magic magic = new Magic("YOUR_PUBLISHABLE_KEY", EthNetwork.Goerli);
````

</Tab>
</Tabs>

### Custom Node

You can allow specific URLs to interact with the Magic SDK, such as a custom RPC URL to send transactions to your node. The Content Security Policy (CSP) of a browser dictates what resources can be loaded. You can update the policy in the settings page of the dashboard with your custom URL.

<Note>

**Note**
Note: the use of a custom node will require the RPC URL to the project's Content Security Policy from your [Magic dashboard](https://dashboard.magic.link/). Refer to the [CSP documentation](/embedded-wallet/wallets/security/content-security-policy).

</Note>

<Tabs>
<Tab title="C#">
```json

var config = new CustomNodeConfiguration(rpcUrl: "https://alchemy.io")
Magic magic = new Magic("YOUR_PUBLISHABLE_KEY", config);

````
</Tab>
</Tabs>

<Info>
**Important**
Do **not** set the custom nodes to local IP address (E.x. [http://127.0.0.1](http://127.0.0.1)), because local IP will point to the network environment inside mobile device / simulator. Try accessible IP address in the same Wifi/Internet Environment (E.x. [http://10.0.0.93:3000](http://10.0.0.93:3000))
</Info>

### Associated Class

`CustomNodeConfiguration(rpcUrl: String, chainId: Int?)`

* `rpcUrl` :Your own node URL
* `chainId` : Your own node's chainId

`Magic.EthNetwork`

<Tabs>
<Tab title="C#">
```json

 enum class EthNetwork {
        Mainnet, Goerli
 }
````

</Tab>
</Tabs>

### Nethereum

There are two ways to set the wallet provider to Magic in Nethereum

1\. Construct an ethApiService and pass Magic provider to it

<Tabs>
  <Tab title="C#">
    ```json var ethApiService = new EthApiService(Magic.Instance.Provider); var
    accounts = await ethApiService.Accounts.SendRequestAsync(); var balance =
    await ethApiService.GetBalance.SendRequestAsync(accounts[0]); ```
  </Tab>
</Tabs>

2\. By directly passing Magic provider to each of the Nethereum RPC methods

<Tabs>
  <Tab title="C#">
    ```json var ethAccounts = new EthAccounts(Magic.Instance.Provider); var
    accounts = await ethAccounts.SendRequestAsync(); ```
  </Tab>
</Tabs>

### Common Methods

### Send Transaction

<Tabs>
<Tab title="C#">
```json
public class MagicUnityButton : MonoBehaviour
⁠{
    public async void SendTransaction()
    {
        // ⭐️ After user is successfully authenticated
        var ethAccounts = new EthAccounts(Magic.Instance.Provider);
        var accounts = await ethAccounts.SendRequestAsync();

        // Construct a transaction
        var transaction = new EthSendTransaction(Magic.Instance.Provider);
        var transactionInput = new TransactionInput
            { To = accounts[0], Value = new HexBigInteger(10), From = accounts[0]};

⁠
// Send the transaction
var hash = await transaction.SendRequestAsync(transactionInput);
Debug.Log(hash);
}
}

````
</Tab>
</Tabs>

### Sign Message

<Tabs>
<Tab title="C#">
```json
public class MagicUnityButton : MonoBehaviour
⁠{
    public async void EthSign()
    {
        // ⭐️ After user is successfully authenticated
        var ethAccounts = new EthAccounts(Magic.Instance.Provider);
        var accounts = await ethAccounts.SendRequestAsync();
        var ethSign = new EthSign(Magic.Instance.Provider);
        var signedResult = await ethSign.SendRequestAsync(accounts[0], "hello world");
        Debug.Log(signedResult);
    }
}
````

</Tab>
</Tabs>

### Get User Info

<Tabs>
<Tab title="C#">
```json
public class MagicUnityButton : MonoBehaviour
⁠{
    public async void Login()
    {
        // ⭐️ After user is successfully authenticated
        var ethApiService = new EthApiService(Magic.Instance.Provider);
        var accounts = await ethApiService.Accounts.SendRequestAsync();
        Debug.Log($"token {token}");
    }
}
```
</Tab>
</Tabs>

### Resources

- [Magic Unity SDK](https://github.com/magiclabs/magic-unity)
